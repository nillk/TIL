# Chapter 1. Why

문법은 세부 사항일 뿐, 다른 방식으로 **사고**하는 방법을 배워야 한다.

## 1.1 패러다임 전환


일반적으로 명령형 프로그래밍에선 효율을 높이기 위해 하나의 반복문 안에서 여러가지 작업을 수행한다. 문자를 세는 프로그램을 에로 들면 단어를 찾아내고, 소문자로 만들고, 비 단어를 골라내고, 빈도수를 세는 작업을 하나의 반복문 안에서 처리한다. 하지만 스트림을 이용하면, 각 스트림에서 연산을 차례대로 수행한다. 물론 명령형 프로그래밍에서도 컬렉션을 세 차례 반복 처리할 수 있지만, 무척 비효율적이다. 이는 **성능**과 **명료함**을 맞바꾸는 보편화된 트레이드 오프이다. 하지만 함수형 프로그래밍에서는 `map()`이나 `filter()` 같은 고계함수를 통해 추상화의 단계를 높여서 문제를 더욱 명료하게 볼 수 있다.

## 1.2 언어 트렌드에 발맞추기


그루비, 자바, Javascript, C++ 등 주요 언어들에 함수형 기능이 더해지고 있음!

## 1.3 언어/런타임에 제어를 양도하기


시간이 갈수록 지루한 일들을 언어나 런타임에 점점 더 맡기게 된다. 이제는 _고수준의 추상화_ 를 통해 복잡한 비즈니스 문제를 풀 궁리를 하지, 까다로운 _저수준 문제_ 는 더 이상 생각하고 싶지 않다. 자바가 메모리 관리 작업을 쉽게 해줬다면, 함수형 프로그래밍 언어는 다른 빌딩블록들을 고수준 추상적 개념으로 대체해준다.

## 1.4 간결함

> 객체지향 프로그래밍은 움직이는 부분을 캡슐화하여 코드 이해를 돕고, 함수형 프로그래밍은 움직이는 부분을 최소화하여 코드 이해를 돕는다.  
> 마이클 페더스

객체지향 프로그래밍의 구조에서 캡슐화, 스코핑, 가시성 등의 메커니즘은 _상태\(state\) 변화를 누가 볼 수 있는지에 대한 세밀한 제어를 위해 존재_ 한다. 이러한 메커니즘이 바로 _움직이는 부분_ 이다. 함수형 언어는 이런 변화하는\(mutable\) 상태를 **제어**하는 메커니즘을 구축하기보다, 그런 움직이는 부분을 아예 **제거**하는 데 주력한다.

객체지향 명령형 프로그래밍 언어에서, 재사용의 단위는 클래스와 그 클래스들이 주고받는 통신 메시지이다. OOP의 세계에서는 _고유한 자료구조를 작성하는 것을 권장_ 한다. 그 자료구조에 특정 동작을 메서드의 형태로 부착해서 말이다. 함수형 프로그래밍 언어는 다른 방식으로 재사용을 달성하려 한다. _최적화된 동작으로 몇몇 자료구조\(list, set, map\)를 이용_ 하는 방식이다. 이런 방법을 잘 사용하려면, 특정 용도로 정의된 방법에 자료구조와 _고계함수_ 를 함께 넣어야 한다.

함수 수준의 캡슐화는 모든 문제에 대한 새로운 클래스 구조를 구축하는 것보다 _세분화되고 기초적인 수준에서 재사용을 가능_ 하게 한다. 함수형 개발자는 적은 수의 자료구조와 그것들을 잘 이해하기 위한 최적화된 방법을 만들기를 선호한다. 객체지향형 개발자는 항상 새로운 자료구조와 그것에 부착된 메서드를 만든다. 모든 자료구조를 캡슐화하면 메서드 수준의 재사용보다는 큰 프레임워크 스타일의 재사용을 선호하게 된다. 함수형 프로그래밍 구조는 세부적인 단계에서 쉽게 코드를 재사용할 수 있게 한다.


