# Chapter 5. 형식 맞추기
프로로그래머라면 형식을 깔끔하게 맞춰 코드를 짜야 한다.

## 5.1 형식을 맞추는 목적
코드 형식은 의사소통의 일환이며, 의사소통은 전문 개발자의 일차적인 의무다. "작동하게 하는 것"이 전문 개발자의 일차적인 의무라고 생각할 수도 있다. 기능은 내일이 되면 달라질 수도 있지만 가독성은 계속해서 남는다. 코딩 스타일과 가독성은 전례를 남겨 유지 보수성과 확장성에 계속해서 영향을 미친다.

## 5.2 적절한 행 길이를 유지하라
일반적으로 큰 파일보다 작은 파일이 이해하기 쉽다. 신문 기사처럼 작성하라. 이름은 간단하면서 설명적으로! 소스 파일 첫 부분은 신문 기사의 헤드처럼 고차원 개념과 알고리즘을 설명한다. 아래로 내려갈수록 의도를 세세하게 묘사한다. 마지막에는 가장 저차원 함수와 세부 내역이 나온다.

### 개념은 빈 행으로 분리하라
코드 라인의 그룹은 하나의 개념을 표현한다. 그리고 다른 개념은 빈 행으로 분리되어야 한다. 또한, 세로 여백이 개념을 분리한다면 세로 밀집도는 연관성을 의미한다.

### 수직 거리
연관성이 높은 개념은 가까운 곳에 놓자. 코드 조각이 어디 놓여있는지 찾기 위해 시간을 낭비하지 않으려면

#### 변수 선언
변수는 사용하는 위치에 최대한 가까이 선언

#### 인스턴스 변수
클래스 제일 처음에 선언. 잘 설계한 클래스는 대다수 클래스 메소드가 인스턴스 변수를 사용하기 때문

#### 종속 함수
한 함수가 다른 함수를 호출한다면 두 함수를 세로로 가까이 배치.
또한, 상수는 *상수를 알아야 하는 함수에서 실제로 사용하는 함수로 넘겨주는 게* 맞다. 아래와 같이 호출해야 한다. 호출 하는 부분에서 default name (FrontPage)를 알고, getPageNameOrDefault는 그냥 자신의 일만 하면 된다.

```java
getPageNameOrDefault(request, "FrontPage");
```

#### 개념적 유사성
친화도가 높을수록 가까이 배치할 것. 여러가지 요인이 있는데 서로 호출하고/당하는 함수, 변수나 변수를 사용하는 함수, 유사한 일을 하는 함수 등.

#### 세로 순서
호출되는 함수를 호출하는 함수보다 아래에 둔다. 그러면 소스 모듈이 고차원에서 저차원으로 자연스레 내려간다. 신문기사와 마찬가지다. 일단 중요한 개념을 두고 그 아래에 세세한 것들이 따라오게 한다.

## 5.3 가로 형식 맞추기
100자에서 120자 정도로. 프로그래머는 짧은 라인을 선호한다.

가로 형식도 마찬가지다. 우리는 연관성이 높은 코드는 붙여 쓰고, 분리할 수 있는 개념엔 공백을 넣어서 분리할 수 있다.

소스 파일은 outline과 계층이 비슷하다. Scope가 존재한다. 이렇게 Scope로 이루어진 계층을 표현하기 위해 코드를 들여쓴다. 들여쓰는 정도는 계층에서 코드가 자리잡은 수준에 비례하다. 왼쪽에 코드를 맞춰 코드가 속하는 Scope를 시각적으로 표현하면 현재 상황과 무관한 Scope를 들여다볼 필요 없이 이 Scope에서 저 Scope로 재빨리 이동 할 수 있다.

빈 `for` 문이나 `while` 문이라 해도 빈 블록을 써 주자.
```java
while (dis.read(buf, 0, readBufferSize) != -1)
    ;
```

## 5.4 팀 규칙
팀이 동의하는 규칙에 일차적으로 따를 것. 스타일은 일관적이고 매끄러워야 한다. 따로 국밥처럼 따로 노는 코드는 No